<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growtopian Gazette</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <div class="sun"></div>

    <div class="topia">
        <img alt="Growtopian Gazette" src="images/growarchive.png" height="220px">
    </div>

    <div class="bigbox transbox">
        <h1>Growtopian Gazette</h1>
        <p>Welcome to the Growtopian Gazette! We are archiving </p>
        <p>Select a date to read the article:</p>
        <input type="date" id="date" name="date" min="2012-11-30">
        <button onclick="goToArticle()">Go</button>
    </div>

    <div class="dark-mode-button" onclick="toggleDarkMode()"></div>

    <div class="info-bar">
        <span style="color:">GrowArchive</span> - <a href="help.html">Contribution Guide</a> - <a href="aboutus.html">About Us</a> - <a href="growgazedit.html">Edit</a>
    </div>

    <div class="cloud" style="background-image: url('images/cloud.png');"></div>
    <div class="cloud" style="background-image: url('images/cloud.png');"></div>
    <div class="cloud" style="background-image: url('images/cloud.png');"></div>

    <script src="clouds.js"></script>
    <script>
        function setMaxDate() {
            const dateInput = document.getElementById('date');
            const today = new Date();
            const day = String(today.getDate()).padStart(2, '0');
            const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based
            const year = today.getFullYear();
            const maxDate = `${year}-${month}-${day}`;
            dateInput.max = maxDate;
        }

        setMaxDate();

        function goToArticle() {
            const date = document.getElementById('date').value;
            const minDate = '2012-01-01';
            const today = new Date().toISOString().split('T')[0];
            
            if (date < minDate || date > today) {
                alert('Please select a date between November 30, 2012 and today.');
            } else {
                const [year, month, day] = date.split('-');
                const articlePath = `${year}_${month}_${day}.html`;
                window.location.href = articlePath;
            }
        }

        function toggleDarkMode() {
            const body = document.body;
            body.classList.toggle('dark-mode');
            const darkModeButton = document.querySelector('.dark-mode-button');
            if (body.classList.contains('dark-mode')) {
                darkModeButton.style.backgroundImage = "url('images/light_icon.png')";
            } else {
                darkModeButton.style.backgroundImage = "url('images/dark_icon.png')";
            }
        }
    </script>
</body>
</html>
